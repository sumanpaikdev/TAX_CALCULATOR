<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro-Audit Tax Dashboard | FY 2025-26</title>
    <style>
        :root {
            --bg: #f4f7fa; --card: #ffffff; --primary: #002d72; --accent: #0056b3;
            --text: #333; --success: #28a745; --danger: #dc3545; --warning: #ffc107;
        }
        body { font-family: 'Inter', -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .dashboard { max-width: 1100px; margin: 0 auto; }
        
        /* Header & Inputs */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .input-section { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card { background: var(--card); padding: 25px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
        
        label { display: block; font-weight: 600; margin-bottom: 10px; color: var(--primary); }
        input, select { width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; box-sizing: border-box; }
        input:focus { border-color: var(--accent); outline: none; }

        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .stat-card { text-align: center; padding: 20px; background: var(--primary); color: white; border-radius: 10px; }
        .stat-card h3 { margin: 0; font-size: 0.8rem; opacity: 0.8; text-transform: uppercase; }
        .stat-card p { margin: 10px 0 0; font-size: 1.4rem; font-weight: bold; }

        /* Audit Status */
        .audit-strip { padding: 15px; border-radius: 8px; font-weight: bold; text-align: center; margin-bottom: 30px; border-left: 8px solid; }
        .audit-safe { background: #d4edda; color: #155724; border-color: #28a745; }
        .audit-warn { background: #fff3cd; color: #856404; border-color: #ffc107; }
        .audit-danger { background: #f8d7da; color: #721c24; border-color: #dc3545; }

        /* Tables */
        .table-wrapper { overflow-x: auto; background: white; border-radius: 10px; }
        table { width: 100%; border-collapse: collapse; min-width: 700px; }
        th { background: #f8f9fa; padding: 15px; text-align: left; border-bottom: 2px solid #dee2e6; color: var(--primary); }
        td { padding: 15px; border-bottom: 1px solid #eee; }
        .row-formula { font-family: monospace; color: #666; font-size: 0.85rem; }

        /* Reminders & Checklist */
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 30px; }
        .checklist h4, .calendar h4 { color: var(--primary); border-bottom: 2px solid var(--accent); padding-bottom: 10px; }
        .checklist ul { list-style: none; padding: 0; }
        .checklist li { padding: 10px 0; border-bottom: 1px solid #eee; display: flex; align-items: start; }
        .checklist li::before { content: "âœ”"; color: var(--success); margin-right: 10px; font-weight: bold; }
        
        .calendar-item { display: flex; justify-content: space-between; padding: 10px; background: #fff; margin-bottom: 10px; border-radius: 5px; border-left: 4px solid var(--accent); }
        
        @media (max-width: 768px) { .info-grid { grid-template-columns: 1fr; } .header { flex-direction: column; text-align: center; } }
    </style>
</head>
<body>

<div class="dashboard">
    <div class="header">
        <h1>Tax Dashboard</h1>
        <p style="font-size: 0.8rem; color: #666;">Created by Suman Paik</p>
        <div style="text-align: right;">
            <span style="background: #e0e0e0; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;">AY 2026-27 | FY 2025-26</span>
        </div>
    </div>

    <div class="input-section">
        <div class="card">
            <label>Gross Annual Receipts (â‚¹)</label>
            <input type="number" id="grossInput" placeholder="e.g. 7500000" oninput="calculatePro()">
        </div>
        <div class="card">
            <label>Digital Receipt %</label>
            <select id="digitalMode" onchange="calculatePro()">
                <option value="95">Over 95% (Digital/Bank)</option>
                <option value="90">Under 95% (Cash Involved)</option>
            </select>
        </div>
        <div class="card">
            <label>Profit Declaration</label>
            <select id="profitMode" onchange="calculatePro()">
                <option value="50">Presumptive (50% of Gross)</option>
                <option value="actual">Actual (Requires Bookkeeping)</option>
            </select>
        </div>
    </div>

    <div id="auditBanner" class="audit-strip audit-safe">
        Please enter receipts to calculate status.
    </div>

    <div class="stats-grid">
        <div class="stat-card"><h3>Taxable Profit</h3><p id="statProfit">â‚¹0</p></div>
        <div class="stat-card"><h3>Effective Tax Rate</h3><p id="statRate">0%</p></div>
        <div class="stat-card" style="background: var(--accent);"><h3>Surcharge</h3><p id="statSurcharge">â‚¹0</p></div>
        <div class="stat-card" style="background: #222;"><h3>Final Tax Due</h3><p id="statTotal">â‚¹0</p></div>
    </div>

    <div class="card">
        <label>Detailed Slab Breakdown (New Regime)</label>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>Bucket</th>
                        <th>Range</th>
                        <th>Rate</th>
                        <th>Calculation</th>
                        <th>Tax Liability</th>
                    </tr>
                </thead>
                <tbody id="slabTable"></tbody>
                <tfoot id="tableFoot"></tfoot>
            </table>
        </div>
    </div>

    <div class="info-grid">
        <div class="card checklist">
            <h4>Professional Compliance Checklist</h4>
            <ul>
                <li><strong>Sec 44ADA Eligibility:</strong> Valid for IT, Medical, Legal, Architecture, Engineering, Accountancy, Technical Consultancy.</li>
                <li><strong>Expense Claims:</strong> Under 50% presumptive, you cannot claim Rent, Salaries, or Depreciation separately.</li>
                <li><strong>GST Cross-Check:</strong> Ensure your Gross Receipts match your GST Annual Returns (GSTR-9) to avoid notices.</li>
                <li><strong>TDS Verification:</strong> Download Form 26AS/AIS to ensure all clients have deposited TDS correctly.</li>
            </ul>
        </div>
        <div class="card calendar">
            <h4>Advance Tax Calendar (Mandatory)</h4>
            <div class="calendar-item"><span>By June 15</span> <span>15% of Tax</span></div>
            <div class="calendar-item"><span>By Sept 15</span> <span>45% of Tax</span></div>
            <div class="calendar-item"><span>By Dec 15</span> <span>75% of Tax</span></div>
            <div class="calendar-item" style="background: #e8f0fe; font-weight: bold;"><span>By March 15</span> <span>100% of Tax</span></div>
            <p style="font-size: 0.8rem; color: #666; margin-top: 10px;">*Note: Sec 44ADA professionals can pay 100% in one go by March 15th.</p>
        </div>
    </div>
</div>

<script>
function calculatePro() {
    const gross = parseFloat(document.getElementById('grossInput').value) || 0;
    const isDigital = document.getElementById('digitalMode').value === "95";
    const profit = gross * 0.50;
    
    // --- 1. Audit Strategy ---
    const banner = document.getElementById('auditBanner');
    if (gross > 7500000) {
        banner.className = "audit-strip audit-danger";
        banner.innerHTML = "ðŸš¨ AUDIT MANDATORY: Receipts > â‚¹75L. You must maintain books and appoint a CA.";
    } else if (gross > 5000000 && !isDigital) {
        banner.className = "audit-strip audit-warn";
        banner.innerHTML = "âš ï¸ AUDIT REQUIRED: Cash receipts exceed 5%. The limit for 44ADA drops to â‚¹50L.";
    } else {
        banner.className = "audit-strip audit-safe";
        banner.innerHTML = "âœ… AUDIT EXEMPT: You qualify for Section 44ADA presumptive taxation.";
    }

    // --- 2. Tax Logic (New Regime FY 25-26) ---
    const slabs = [
        { label: "Bucket 1", range: "0 - 4L", limit: 400000, rate: 0 },
        { label: "Bucket 2", range: "4 - 8L", limit: 400000, rate: 0.05 },
        { label: "Bucket 3", range: "8 - 12L", limit: 400000, rate: 0.10 },
        { label: "Bucket 4", range: "12 - 16L", limit: 400000, rate: 0.15 },
        { label: "Bucket 5", range: "16 - 20L", limit: 400000, rate: 0.20 },
        { label: "Bucket 6", range: "20 - 24L", limit: 400000, rate: 0.25 },
        { label: "Bucket 7", range: "Above 24L", limit: Infinity, rate: 0.30 }
    ];

    let remaining = profit;
    let baseTax = 0;
    let html = "";

    slabs.forEach(s => {
        let taxable = Math.max(0, Math.min(remaining, s.limit));
        let tax = taxable * s.rate;
        baseTax += tax;
        remaining -= taxable;
        html += `<tr><td>${s.label}</td><td>${s.range}</td><td>${s.rate*100}%</td><td class="row-formula">${taxable.toLocaleString('en-IN')} Ã— ${s.rate*100}%</td><td>â‚¹${tax.toLocaleString('en-IN')}</td></tr>`;
    });

    // --- 3. Surcharge & Cess ---
    let surcharge = 0;
    if (profit > 5000000) surcharge = baseTax * 0.10; // 10% for profit > 50L
    
    const cess = (baseTax + surcharge) * 0.04;
    const finalTotal = baseTax + surcharge + cess;
    const effRate = gross > 0 ? (finalTotal / gross * 100).toFixed(2) : 0;

    // --- 4. UI Update ---
    document.getElementById('slabTable').innerHTML = html;
    document.getElementById('statProfit').innerText = "â‚¹" + profit.toLocaleString('en-IN');
    document.getElementById('statSurcharge').innerText = "â‚¹" + surcharge.toLocaleString('en-IN');
    document.getElementById('statTotal').innerText = "â‚¹" + finalTotal.toLocaleString('en-IN');
    document.getElementById('statRate').innerText = effRate + "%";
    
    document.getElementById('tableFoot').innerHTML = `
        <tr style="background:#f1f3f5; font-weight:bold;">
            <td colspan="4" align="right">Base Income Tax</td><td>â‚¹${baseTax.toLocaleString('en-IN')}</td>
        </tr>
        <tr style="color:var(--accent);">
            <td colspan="4" align="right">Surcharge (High Income)</td><td>â‚¹${surcharge.toLocaleString('en-IN')}</td>
        </tr>
        <tr style="color:var(--danger);">
            <td colspan="4" align="right">Health & Education Cess (4%)</td><td>â‚¹${cess.toLocaleString('en-IN')}</td>
        </tr>
    `;
}
</script>
</body>
</html>
